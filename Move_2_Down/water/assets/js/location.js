let addresses={
        'Aguinaldo':{
            'id':'01',
            'puroks':{
                1:'Purok Lapok',
                2:'Purok Bonbon',
                3:'Purok Pook'
            }
        },
        'Amparo':{
            'id':'02',
            'puroks':{
                1:'Purok Pag-asa',
                2:'Purok Liwanag',
                3:'Purok Kapayapaan',
                4:'Purok Pag-ibig'
            }
        },
        'Asuncion':{
            'id':'03',
            'puroks':{
                1:'Sition Lungsodaan',
                2:'Purok Mangga',
                3:'Purok Romblon',
                4:'Sitio Cabangkalan',
                5:'Sitio Greenhills',
                6:'Sition Bagong Silang',
            }
        },
        'Bagong Silang':{
            'id':'04',
            'puroks':{
                1:'Purok Narra',
                2:'Purok Lawaan',
            }
        },
        'Buscayan':{
            'id':'05',
            'puroks':{
                1:'Purok Sto. Niño',
                2:'Purok Caimito',
            }
        },
        'Cambaro':{
            'id':'06',
            'puroks':{
                1:'Sitio Cambaro I',
                2:'Sitio Cambaro II',
                3: 'Sitio Malico'
            }
        },
        'Canlusay':{
            'id':'07',
            'puroks':{
                1:'Purok Saging',
                2:'Purok Nangka',
            }
        },
        'Danao':{
            'id':'08',
            'puroks':{
                1:'Purok Kanangkaan',
                2:'Purok Naga',
                3:'Purok Ipil-Ipil',
                4:'Purok Cacao',
                5:'Purok Lanao',
            }
        },
        'Flordeliz':{
            'id':'09',
            'puroks':{
                1:'Purok Punta',
                2:'Purok Kalipay',
                3:'Purok Escaño',
            }
        },
        'Guadalupe':{
            'id':'10',
            'puroks':{
                1:'Purok Palayan',
                2:'Purok Caimito',
                3:'Purok Kawayan',
            }
        },
        'Ichon':{
            'id':'11',
            'puroks':{
                1:'Purok Candelaria',
                2:'Purok Holy Innocents',
                3:'Purok Magsaysay',
                4:'Purok Santolan',
                5:'Purok L. Galdo',
                6:'Purok 3 Kings',
                7:'Purok Puting Baas',
            }
        },
        'Ilihan':{
            'id':'12',
            'puroks':{
                1:'Sitio Mabanga',
                2:'Purok Cacao',
                3:'Purok Estrella',
                4:'Purok Ataviado',
                5:'Purok Ipil-Ipil',
            }
        },
        'Laray':{
            'id':'13',
            'puroks':{
                1:'Sitio Panan-awan I',
                2:'Sitio Panan-awan II',
                3:'Purok Liberty',
                4:'Purok Molave',
            }
        },
        'Lower Villa Jacinta':{
            'id':'14',
            'puroks':{
                1:'Purok Mangga',
                2:'Purok Kalubian',
                3:'Purok Caimito',
                4:'Purok Bitaug',
            }
        },
        'Mabini':{
            'id':'15',
            'puroks':{
                1:'Purok Lemonsito',
                2:'Purok Lanzones',
                3:'Purok Caimito',
            }
        },
        'Mohon':{
            'id':'16',
            'puroks':{
                1:'Purok Tambis',
                2:'Purok Santol',
                3:'Purok Caimito',
            }
        },
        'Molopolo':{
            'id':'17',
            'puroks':{
                1:'Purok Ipil-Ipil',
                2:'Purok Mahogany',
                3:'Purok Bitaug',
                4:'Sitio Cacawan',
                5:'Sitio Salimbangon',
            }
        },
        'Rizal':{
            'id':'18',
            'puroks':{
                1:'Purok San Pedro',
                2:'Purok Malunggay',
                3:'Purok Tuligan',
                4:'Sitio Malapano',
            }
        },
        'Salvador':{
            'id':'19',
            'puroks':{
                1:'Sitio Coot I',
                2:'Sitio Coot II',
                3:'Sitio Bagacay',
                4:'Sitio Ahag',
                5:'Sitio Luindag',
                6:'Sitio Mangmang',
            }
        },
        'San Isidro':{
            'id':'20',
            'puroks':{
                1:'Purok Orange',
                2:'Purok Cacao',
            }
        },
        'San Joaquin':{
            'id':'21',
            'puroks':{
                1:'Purok Macopa',
                2:'Purok Mangga',
                3:'Purok Tambis',
                4:'Purok Caimito',
                5:'Purok Santol',
                6:'Purok Lomboy',
            }
        },
        'San Roque':{
            'id':'22',
            'puroks':{
                1:'Purok Avocado',
                2:'Purok Caimito',
                3:'Purok Kulo',
                4:'Purok Langka',
                5:'Purok Mabolo',
                6:'Purok Tisa',
            }
        },
        'San Vicente (POB.)':{
            'id':'23',
            'puroks':{
                1:'Purok Lourdes',
                2:'Purok Candelaria',
                3:'Purok Miraculous Medal',
                4:'Purok Perpetual Help',
            }
        },
        'San Vicente Upper':{
            'id':'24',
            'puroks':{
                1:'Purok Caimito',
                2:'Purok Kulo',
            }
        },
        'Sindangan':{
            'id':'25',
            'puroks':{
                1:'Purok Orchids',
                2:'Purok Poinsettia',
                3:'Purok Calachuchi',
                4:'Sitio Bagacay',
            }
        },
        'Sta. Cruz':{
            'id':'26',
            'puroks':{
                1:'Purok Rose',
                2:'Purok Caimito',
                3:'Purok Greenhills',
                4:'Sitio Sampaguita',
            }
        },
        'Sto. Niño':{
            'id':'27',
            'puroks':{
                1:'Purok Caimito',
                2:'Purok Nangka',
                3:'Purok Makopa',
            }
        },
        'Sto. Rosario':{
            'id':'28',
            'puroks':{
                1:'Purok Bagumbayan',
                2:'Purok Tuburan',
                3:'Purok Kalubian',
                4:'Purok Santan',
                5:'Purok Gitnaan',
            }
        },
        'Upper Ichon':{
            'id':'29',
            'puroks':{
                1:'Purok Go',
                2:'Purok Barola',
                3:'Purok Hanopol',
            }
        },
        'Upper Villa Jacinta':{
            'id':'30',
            'puroks':{
                1:'Purok Nangka',
                2:'Purok Santol',
                3:'Purok Saging',
            }
        },
    }

    function populateBrgyOptions(){
        let brgyOptions=`<option value="">--Select a barangay--</option>`;

        Object.keys(addresses).forEach((value,index)=>{
            brgyOptions=brgyOptions+`<option value="${addresses[value].id}">${value}</option>`;
        });
        return brgyOptions;
    }

    function populatePurokOptions(brgy){
        let purokOptions=`<option value="">--Select a purok--</option>`;
        try{

            Object.keys(addresses[brgy].puroks).forEach((value,index)=>{
                purokOptions=purokOptions+`<option value="${value}">${addresses[brgy].puroks[value]}</option>`;
            });
        }catch(err){

        }

        return purokOptions;
    }

$(document).ready(()=>{

    const brgyDropdown=$("#brgy-dropdown");
    const purokDropdown=$("#purok-dropdown");
    const brgyCodeTxtField=$("input[name=barangay");
    const purokCodeTxtField=$("input[name=purok");

    brgyDropdown.append(populateBrgyOptions());

    brgyDropdown.change((e)=>{
        let selectedBrgy=$("#brgy-dropdown option:selected").val()==""?"":$("#brgy-dropdown option:selected").text();
        brgyCodeTxtField.val(selectedBrgy);
        purokDropdown.empty();
        if(selectedBrgy!=""){
            purokDropdown.append(populatePurokOptions(selectedBrgy));
        }

    })

    purokDropdown.change((e)=>{

        let selectedPurok=$("#purok-dropdown option:selected").val()==""?"":$("#purok-dropdown option:selected").text();
        purokCodeTxtField.val(selectedPurok);
    })

    $('#registration-form').submit(function(){
        $(".modal_save").html('<i class="far fa-spinner fa-spin me-1"></i>&nbsp; Saving ...')
        $(".modal_save").prop('disabled', true)
    })
})
